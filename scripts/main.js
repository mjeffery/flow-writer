"use strict";function checkAuth(){gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:!0},handleAuthResult)}function handleAuthResult(t){var e=$("#authorize-prompt");t&&!t.error?(e.hide(),loadDriveApi()):e.show()}function loadDriveApi(){gapi.client.load("drive","v2",function(){alert("Google API loaded!")})}!function(t){function e(){null!=i?clearTimeout(i):$("#saving-notice").show(),i=setTimeout(n,o)}function n(){null!=i&&($("#saving-notice").hide(),i=null)}var o=1e3,i=null;t.showSaveNotice=e}(window),$(document).ready(function(){function t(t,n){o+=t,$("#last-letter-display").text(n||t),e(),a()}function e(){var t=o.split(/\S+/g).length;$("#word-count-display").text(t)}var n="session-text",o=localStorage.getItem(n)||"";if(o.length>0){e();var i=o.charAt(o.length-1);["\n","	"].indexOf(i)>-1&&(i=" "),$("#last-letter-display").text(i)}var a=_.debounce(function(){showSaveNotice(),localStorage.setItem(n,o)},1e3,{maxWait:1e4});$(document).keydown(function(e){var n=e.keyCode||e.which;8==n?e.preventDefault():9==n&&(t("	"," "),e.preventDefault())}),$(document).keypress(function(e){var n=e.keyCode||e.which,o=String.fromCharCode(n);8==n||(13==n?t("\n"," "):t(o)),e.preventDefault()}),$(".reset-btn").click(function(){var t=confirm("are you sure you want to delete your current text?");t&&(o="",$("#all-text").text(""),$("#last-letter-display").text(""),$("#word-count-display").text(0),localStorage.setItem(n,o))}),$(".show-text-btn").click(function(){$("#all-text").text(o),$(".show-text-container").show()}),$(".hide-text-btn").click(function(){$(".show-text-container").hide()})});var CLIENT_ID="273179587283-57gulv8nr6u9d5kabndcbidnmqhndjm1.apps.googleusercontent.com",SCOPES=["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.install"];$(function(){$(".authorize-btn").click(function(t){gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:!1},handleAuthResult)})});